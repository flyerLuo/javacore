(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{286:function(t,s,a){"use strict";a.r(s);var n=a(11),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"jvm-å®æˆ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-å®æˆ˜"}},[t._v("#")]),t._v(" JVM å®æˆ˜")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("ğŸ“¦ æœ¬æ–‡ä»¥åŠç¤ºä¾‹æºç å·²å½’æ¡£åœ¨ "),a("a",{attrs:{href:"https://github.com/dunwu/javacore/",target:"_blank",rel:"noopener noreferrer"}},[t._v("javacore"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"jvm-è°ƒä¼˜æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-è°ƒä¼˜æ¦‚è¿°"}},[t._v("#")]),t._v(" JVM è°ƒä¼˜æ¦‚è¿°")]),t._v(" "),a("h3",{attrs:{id:"æ€§èƒ½å®šä¹‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½å®šä¹‰"}},[t._v("#")]),t._v(" æ€§èƒ½å®šä¹‰")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ååé‡")]),t._v(" - æŒ‡ä¸è€ƒè™‘ GC å¼•èµ·çš„åœé¡¿æ—¶é—´æˆ–å†…å­˜æ¶ˆè€—ï¼Œåƒåœ¾æ”¶é›†å™¨èƒ½æ”¯æ’‘åº”ç”¨è¾¾åˆ°çš„æœ€é«˜æ€§èƒ½æŒ‡æ ‡ã€‚")]),t._v(" "),a("li",[a("code",[t._v("å»¶è¿Ÿ")]),t._v(" - å…¶åº¦é‡æ ‡å‡†æ˜¯ç¼©çŸ­ç”±äºåƒåœ¾å•Šæ”¶é›†å¼•èµ·çš„åœé¡¿æ—¶é—´æˆ–è€…å®Œå…¨æ¶ˆé™¤å› åƒåœ¾æ”¶é›†æ‰€å¼•èµ·çš„åœé¡¿ï¼Œé¿å…åº”ç”¨è¿è¡Œæ—¶å‘ç”ŸæŠ–åŠ¨ã€‚")]),t._v(" "),a("li",[a("code",[t._v("å†…å­˜å ç”¨")]),t._v(" - åƒåœ¾æ”¶é›†å™¨æµç•…è¿è¡Œæ‰€éœ€è¦çš„å†…å­˜æ•°é‡ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"è°ƒä¼˜åŸåˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒä¼˜åŸåˆ™"}},[t._v("#")]),t._v(" è°ƒä¼˜åŸåˆ™")]),t._v(" "),a("h4",{attrs:{id:"gc-ä¼˜åŒ–ç›®æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-ä¼˜åŒ–ç›®æ ‡"}},[t._v("#")]),t._v(" GC ä¼˜åŒ–ç›®æ ‡")]),t._v(" "),a("p",[t._v("GC ä¼˜åŒ–çš„ä¸¤ä¸ªç›®æ ‡ï¼š")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("å°†è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡é™åˆ°æœ€ä½")])]),t._v(" "),a("li",[a("strong",[t._v("å‡å°‘ Full GC çš„æ‰§è¡Œæ—¶é—´")])])]),t._v(" "),a("p",[t._v("GC ä¼˜åŒ–çš„åŸºæœ¬åŸåˆ™æ˜¯ï¼šå°†ä¸åŒçš„ GC å‚æ•°åº”ç”¨åˆ°ä¸¤ä¸ªåŠä»¥ä¸Šçš„æœåŠ¡å™¨ä¸Šç„¶åæ¯”è¾ƒå®ƒä»¬çš„æ€§èƒ½ï¼Œç„¶åå°†é‚£äº›è¢«è¯æ˜å¯ä»¥æé«˜æ€§èƒ½æˆ–å‡å°‘ GC æ‰§è¡Œæ—¶é—´çš„å‚æ•°åº”ç”¨äºæœ€ç»ˆçš„å·¥ä½œæœåŠ¡å™¨ä¸Šã€‚")]),t._v(" "),a("h4",{attrs:{id:"å°†è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡é™åˆ°æœ€ä½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡é™åˆ°æœ€ä½"}},[t._v("#")]),t._v(" å°†è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡é™åˆ°æœ€ä½")]),t._v(" "),a("p",[t._v("é™¤äº†å¯ä»¥åœ¨ JDK7 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ä½¿ç”¨çš„ G1 æ”¶é›†å™¨ä»¥å¤–ï¼Œå…¶ä»–åˆ†ä»£ GC éƒ½æ˜¯ç”± Oracle JVM æä¾›çš„ã€‚å…³äºåˆ†ä»£ GCï¼Œå°±æ˜¯å¯¹è±¡åœ¨ Eden åŒºè¢«åˆ›å»ºï¼Œéšåè¢«è½¬ç§»åˆ° Survivor åŒºï¼Œåœ¨æ­¤ä¹‹åå‰©ä½™çš„å¯¹è±¡ä¼šè¢«è½¬å…¥è€å¹´ä»£ã€‚ä¹Ÿæœ‰ä¸€äº›å¯¹è±¡ç”±äºå ç”¨å†…å­˜è¿‡å¤§ï¼Œåœ¨ Eden åŒºè¢«åˆ›å»ºåä¼šç›´æ¥è¢«ä¼ å…¥è€å¹´ä»£ã€‚è€å¹´ä»£ GC ç›¸å¯¹æ¥è¯´ä¼šæ¯”æ–°ç”Ÿä»£ GC æ›´è€—æ—¶ï¼Œå› æ­¤ï¼Œå‡å°‘è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡å¯ä»¥æ˜¾è‘—é™ä½ Full GC çš„é¢‘ç‡ã€‚ä½ å¯èƒ½ä¼šä»¥ä¸ºå‡å°‘è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡æ„å‘³ç€æŠŠå®ƒä»¬ç•™åœ¨æ–°ç”Ÿä»£ï¼Œäº‹å®æ­£å¥½ç›¸åï¼Œæ–°ç”Ÿä»£å†…å­˜çš„å¤§å°æ˜¯å¯ä»¥è°ƒèŠ‚çš„ã€‚")]),t._v(" "),a("h4",{attrs:{id:"é™ä½-full-gc-çš„æ—¶é—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™ä½-full-gc-çš„æ—¶é—´"}},[t._v("#")]),t._v(" é™ä½ Full GC çš„æ—¶é—´")]),t._v(" "),a("p",[t._v("Full GC çš„æ‰§è¡Œæ—¶é—´æ¯” Minor GC è¦é•¿å¾ˆå¤šï¼Œå› æ­¤ï¼Œå¦‚æœåœ¨ Full GC ä¸ŠèŠ±è´¹è¿‡å¤šçš„æ—¶é—´ï¼ˆè¶…è¿‡ 1sï¼‰ï¼Œå°†å¯èƒ½å‡ºç°è¶…æ—¶é”™è¯¯ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœ"),a("strong",[t._v("é€šè¿‡å‡å°è€å¹´ä»£å†…å­˜æ¥å‡å°‘ Full GC æ—¶é—´")]),t._v("ï¼Œå¯èƒ½ä¼šå¼•èµ· "),a("code",[t._v("OutOfMemoryError")]),t._v(" æˆ–è€…å¯¼è‡´ Full GC çš„é¢‘ç‡å‡é«˜ã€‚")]),t._v(" "),a("li",[t._v("å¦å¤–ï¼Œå¦‚æœ"),a("strong",[t._v("é€šè¿‡å¢åŠ è€å¹´ä»£å†…å­˜æ¥é™ä½ Full GC çš„é¢‘ç‡")]),t._v("ï¼ŒFull GC çš„æ—¶é—´å¯èƒ½å› æ­¤å¢åŠ ã€‚")])]),t._v(" "),a("p",[t._v("å› æ­¤ï¼Œä½ "),a("strong",[t._v("éœ€è¦æŠŠè€å¹´ä»£çš„å¤§å°è®¾ç½®æˆä¸€ä¸ªâ€œåˆé€‚â€çš„å€¼")]),t._v("ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("GC ä¼˜åŒ–éœ€è¦è€ƒè™‘çš„ JVM å‚æ•°")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("ç±»å‹")])]),t._v(" "),a("th",[a("strong",[t._v("å‚æ•°")])]),t._v(" "),a("th",[a("strong",[t._v("æè¿°")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("å †å†…å­˜å¤§å°")]),t._v(" "),a("td",[a("code",[t._v("-Xms")])]),t._v(" "),a("td",[t._v("å¯åŠ¨ JVM æ—¶å †å†…å­˜çš„å¤§å°")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("code",[t._v("-Xmx")])]),t._v(" "),a("td",[t._v("å †å†…å­˜æœ€å¤§é™åˆ¶")])]),t._v(" "),a("tr",[a("td",[t._v("æ–°ç”Ÿä»£ç©ºé—´å¤§å°")]),t._v(" "),a("td",[a("code",[t._v("-XX:NewRatio")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„å†…å­˜æ¯”")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("code",[t._v("-XX:NewSize")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£å†…å­˜å¤§å°")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("code",[t._v("-XX:SurvivorRatio")])]),t._v(" "),a("td",[t._v("Eden åŒºå’Œ Survivor åŒºçš„å†…å­˜æ¯”")])])])]),t._v(" "),a("p",[t._v("GC ä¼˜åŒ–æ—¶æœ€å¸¸ç”¨çš„å‚æ•°æ˜¯"),a("code",[t._v("-Xms")]),t._v(","),a("code",[t._v("-Xmx")]),t._v("å’Œ"),a("code",[t._v("-XX:NewRatio")]),t._v("ã€‚"),a("code",[t._v("-Xms")]),t._v("å’Œ"),a("code",[t._v("-Xmx")]),t._v("å‚æ•°é€šå¸¸æ˜¯å¿…é¡»çš„ï¼Œæ‰€ä»¥"),a("code",[t._v("NewRatio")]),t._v("çš„å€¼å°†å¯¹ GC æ€§èƒ½äº§ç”Ÿé‡è¦çš„å½±å“ã€‚")]),t._v(" "),a("p",[t._v("æœ‰äº›äººå¯èƒ½ä¼šé—®"),a("strong",[t._v("å¦‚ä½•è®¾ç½®æ°¸ä¹…ä»£å†…å­˜å¤§å°")]),t._v("ï¼Œä½ å¯ä»¥ç”¨"),a("code",[t._v("-XX:PermSize")]),t._v("å’Œ"),a("code",[t._v("-XX:MaxPermSize")]),t._v("å‚æ•°æ¥è¿›è¡Œè®¾ç½®ï¼Œä½†æ˜¯è¦è®°ä½ï¼Œåªæœ‰å½“å‡ºç°"),a("code",[t._v("OutOfMemoryError")]),t._v("é”™è¯¯æ—¶ä½ æ‰éœ€è¦å»è®¾ç½®æ°¸ä¹…ä»£å†…å­˜ã€‚")]),t._v(" "),a("h3",{attrs:{id:"gc-ä¼˜åŒ–çš„è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-ä¼˜åŒ–çš„è¿‡ç¨‹"}},[t._v("#")]),t._v(" GC ä¼˜åŒ–çš„è¿‡ç¨‹")]),t._v(" "),a("p",[t._v("GC ä¼˜åŒ–çš„è¿‡ç¨‹å’Œå¤§å¤šæ•°å¸¸è§çš„æå‡æ€§èƒ½çš„è¿‡ç¨‹ç›¸ä¼¼ï¼Œä¸‹é¢æ˜¯ç¬”è€…ä½¿ç”¨çš„æµç¨‹ï¼š")]),t._v(" "),a("h4",{attrs:{id:"_1-ç›‘æ§-gc-çŠ¶æ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç›‘æ§-gc-çŠ¶æ€"}},[t._v("#")]),t._v(" 1.ç›‘æ§ GC çŠ¶æ€")]),t._v(" "),a("p",[t._v("ä½ éœ€è¦ç›‘æ§ GC ä»è€Œæ£€æŸ¥ç³»ç»Ÿä¸­è¿è¡Œçš„ GC çš„å„ç§çŠ¶æ€ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_2-åˆ†æç›‘æ§ç»“æœåå†³å®šæ˜¯å¦éœ€è¦ä¼˜åŒ–-gc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆ†æç›‘æ§ç»“æœåå†³å®šæ˜¯å¦éœ€è¦ä¼˜åŒ–-gc"}},[t._v("#")]),t._v(" 2.åˆ†æç›‘æ§ç»“æœåå†³å®šæ˜¯å¦éœ€è¦ä¼˜åŒ– GC")]),t._v(" "),a("p",[t._v("åœ¨æ£€æŸ¥ GC çŠ¶æ€åï¼Œä½ éœ€è¦åˆ†æç›‘æ§ç»“æ„å¹¶å†³å®šæ˜¯å¦éœ€è¦è¿›è¡Œ GC ä¼˜åŒ–ã€‚å¦‚æœåˆ†æç»“æœæ˜¾ç¤ºè¿è¡Œ GC çš„æ—¶é—´åªæœ‰ 0.1-0.3 ç§’ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦æŠŠæ—¶é—´æµªè´¹åœ¨ GC ä¼˜åŒ–ä¸Šï¼Œä½†å¦‚æœè¿è¡Œ GC çš„æ—¶é—´è¾¾åˆ° 1-3 ç§’ï¼Œç”šè‡³å¤§äº 10 ç§’ï¼Œé‚£ä¹ˆ GC ä¼˜åŒ–å°†æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¯ï¼Œå¦‚æœä½ å·²ç»åˆ†é…äº†å¤§çº¦ 10GB å†…å­˜ç»™ Javaï¼Œå¹¶ä¸”è¿™äº›å†…å­˜æ— æ³•çœä¸‹ï¼Œé‚£ä¹ˆå°±æ— æ³•è¿›è¡Œ GC ä¼˜åŒ–äº†ã€‚åœ¨è¿›è¡Œ GC ä¼˜åŒ–ä¹‹å‰ï¼Œä½ éœ€è¦è€ƒè™‘ä¸ºä»€ä¹ˆä½ éœ€è¦åˆ†é…è¿™ä¹ˆå¤§çš„å†…å­˜ç©ºé—´ï¼Œå¦‚æœä½ åˆ†é…äº† 1GB æˆ– 2GB å¤§å°çš„å†…å­˜å¹¶ä¸”å‡ºç°äº†"),a("code",[t._v("OutOfMemoryError")]),t._v("ï¼Œé‚£ä½ å°±åº”è¯¥æ‰§è¡Œ**å †å¿«ç…§ï¼ˆheap dumpï¼‰**æ¥æ¶ˆé™¤å¯¼è‡´å¼‚å¸¸çš„åŸå› ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ”” æ³¨æ„ï¼š")])]),t._v(" "),a("blockquote",[a("p",[t._v("**å †å¿«ç…§ï¼ˆheap dumpï¼‰**æ˜¯ä¸€ä¸ªç”¨æ¥æ£€æŸ¥ Java å†…å­˜ä¸­çš„å¯¹è±¡å’Œæ•°æ®çš„å†…å­˜æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å¯ä»¥é€šè¿‡æ‰§è¡Œ JDK ä¸­çš„"),a("code",[t._v("jmap")]),t._v("å‘½ä»¤æ¥åˆ›å»ºã€‚åœ¨åˆ›å»ºæ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰ Java ç¨‹åºéƒ½å°†æš‚åœï¼Œå› æ­¤ï¼Œä¸è¦åœ¨ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­åˆ›å»ºè¯¥æ–‡ä»¶ã€‚")])]),t._v(" "),a("blockquote",[a("p",[t._v("ä½ å¯ä»¥åœ¨äº’è”ç½‘ä¸Šæœç´¢ heap dump çš„è¯¦ç»†è¯´æ˜ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"_3-è®¾ç½®-gc-ç±»å‹-å†…å­˜å¤§å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-è®¾ç½®-gc-ç±»å‹-å†…å­˜å¤§å°"}},[t._v("#")]),t._v(" 3.è®¾ç½® GC ç±»å‹/å†…å­˜å¤§å°")]),t._v(" "),a("p",[t._v("å¦‚æœä½ å†³å®šè¦è¿›è¡Œ GC ä¼˜åŒ–ï¼Œé‚£ä¹ˆä½ éœ€è¦é€‰æ‹©ä¸€ä¸ª GC ç±»å‹å¹¶ä¸”ä¸ºå®ƒè®¾ç½®å†…å­˜å¤§å°ã€‚æ­¤æ—¶å¦‚æœä½ æœ‰å¤šä¸ªæœåŠ¡å™¨ï¼Œè¯·å¦‚ä¸Šæ–‡æåˆ°çš„é‚£æ ·ï¼Œåœ¨æ¯å°æœºå™¨ä¸Šè®¾ç½®ä¸åŒçš„ GC å‚æ•°å¹¶åˆ†æå®ƒä»¬çš„åŒºåˆ«ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_4-åˆ†æç»“æœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-åˆ†æç»“æœ"}},[t._v("#")]),t._v(" 4.åˆ†æç»“æœ")]),t._v(" "),a("p",[t._v("åœ¨è®¾ç½®å®Œ GC å‚æ•°åå°±å¯ä»¥å¼€å§‹æ”¶é›†æ•°æ®ï¼Œè¯·åœ¨æ”¶é›†è‡³å°‘ 24 å°æ—¶åå†è¿›è¡Œç»“æœåˆ†æã€‚å¦‚æœä½ è¶³å¤Ÿå¹¸è¿ï¼Œä½ å¯èƒ½ä¼šæ‰¾åˆ°ç³»ç»Ÿçš„æœ€ä½³ GC å‚æ•°ã€‚å¦‚è‹¥ä¸ç„¶ï¼Œä½ è¿˜éœ€è¦åˆ†æè¾“å‡ºæ—¥å¿—å¹¶æ£€æŸ¥åˆ†é…çš„å†…å­˜ï¼Œç„¶åéœ€è¦é€šè¿‡ä¸æ–­è°ƒæ•´ GC ç±»å‹/å†…å­˜å¤§å°æ¥æ‰¾åˆ°ç³»ç»Ÿçš„æœ€ä½³å‚æ•°ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_5-å¦‚æœç»“æœä»¤äººæ»¡æ„ï¼Œå°†å‚æ•°åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡å™¨ä¸Šå¹¶ç»“æŸ-gc-ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-å¦‚æœç»“æœä»¤äººæ»¡æ„ï¼Œå°†å‚æ•°åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡å™¨ä¸Šå¹¶ç»“æŸ-gc-ä¼˜åŒ–"}},[t._v("#")]),t._v(" 5.å¦‚æœç»“æœä»¤äººæ»¡æ„ï¼Œå°†å‚æ•°åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡å™¨ä¸Šå¹¶ç»“æŸ GC ä¼˜åŒ–")]),t._v(" "),a("p",[t._v("å¦‚æœ GC ä¼˜åŒ–çš„ç»“æœä»¤äººæ»¡æ„ï¼Œå°±å¯ä»¥å°†å‚æ•°åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡å™¨ä¸Šï¼Œå¹¶åœæ­¢ GC ä¼˜åŒ–ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ä¸‹é¢çš„ç« èŠ‚ä¸­ï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸Šè¿°æ¯ä¸€æ­¥æ‰€åšçš„å…·ä½“å·¥ä½œã€‚")]),t._v(" "),a("h2",{attrs:{id:"hotspot-vm-å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hotspot-vm-å‚æ•°"}},[t._v("#")]),t._v(" HotSpot VM å‚æ•°")]),t._v(" "),a("blockquote",[a("p",[t._v("è¯¦ç»†å‚æ•°è¯´æ˜è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š"),a("a",{attrs:{href:"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaHotSpot VM Options"),a("OutboundLink")],1),t._v("ï¼Œè¿™é‡Œä»…åˆ—ä¸¾å¸¸ç”¨å‚æ•°ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"jvm-å†…å­˜é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-å†…å­˜é…ç½®"}},[t._v("#")]),t._v(" JVM å†…å­˜é…ç½®")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("é…ç½®")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("-Xms")])]),t._v(" "),a("td",[t._v("å †ç©ºé—´åˆå§‹å€¼ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-Xmx")])]),t._v(" "),a("td",[t._v("å †ç©ºé—´æœ€å¤§å€¼ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-Xmn")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£ç©ºé—´å¤§å°ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-Xss")])]),t._v(" "),a("td",[t._v("è™šæ‹Ÿæœºæ ˆå¤§å°ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:NewSize")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£ç©ºé—´åˆå§‹å€¼ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:MaxNewSize")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£ç©ºé—´æœ€å¤§å€¼ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:PermSize")])]),t._v(" "),a("td",[t._v("æ°¸ä¹…ä»£ç©ºé—´çš„åˆå§‹å€¼ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:MaxPermSize")])]),t._v(" "),a("td",[t._v("æ°¸ä¹…ä»£ç©ºé—´çš„æœ€å¤§å€¼ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("NewRatio")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£ä¸å¹´è€ä»£çš„æ¯”ä¾‹ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("SurvivorRatio")])]),t._v(" "),a("td",[t._v("æ–°ç”Ÿä»£ä¸­è°ƒæ•´ eden åŒºä¸ survivor åŒºçš„æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 8ã€‚å³ eden åŒºä¸º 80%çš„å¤§å°ï¼Œä¸¤ä¸ª survivor åˆ†åˆ«ä¸º 10% çš„å¤§å°ã€‚")])])])]),t._v(" "),a("h3",{attrs:{id:"gc-ç±»å‹é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-ç±»å‹é…ç½®"}},[t._v("#")]),t._v(" GC ç±»å‹é…ç½®")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("é…ç½®")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("-XX:+UseSerialGC")])]),t._v(" "),a("td",[t._v("ä½¿ç”¨ Serial + Serial Old åƒåœ¾å›æ”¶å™¨ç»„åˆ")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:+UseParallelGC")])]),t._v(" "),a("td",[t._v("ä½¿ç”¨ Parallel Scavenge + Parallel Old åƒåœ¾å›æ”¶å™¨ç»„åˆ")])]),t._v(" "),a("tr",[a("td",[a("s",[a("code",[t._v("-XX:+UseParallelOldGC")])])]),t._v(" "),a("td",[a("s",[t._v("ä½¿ç”¨ Parallel Old åƒåœ¾å›æ”¶å™¨ï¼ˆJDK5 åå·²æ— ç”¨ï¼‰")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:+UseParNewGC")])]),t._v(" "),a("td",[t._v("ä½¿ç”¨ ParNew + Serial Old åƒåœ¾å›æ”¶å™¨")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:+UseConcMarkSweepGC")])]),t._v(" "),a("td",[t._v("ä½¿ç”¨ CMS + ParNew + Serial Old åƒåœ¾å›æ”¶å™¨ç»„åˆ")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:+UseG1GC")])]),t._v(" "),a("td",[t._v("ä½¿ç”¨ G1 åƒåœ¾å›æ”¶å™¨")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:ParallelCMSThreads")])]),t._v(" "),a("td",[t._v("å¹¶å‘æ ‡è®°æ‰«æåƒåœ¾å›æ”¶å™¨ = ä¸ºä½¿ç”¨çš„çº¿ç¨‹æ•°é‡")])])])]),t._v(" "),a("h3",{attrs:{id:"åƒåœ¾å›æ”¶å™¨é€šç”¨å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åƒåœ¾å›æ”¶å™¨é€šç”¨å‚æ•°"}},[t._v("#")]),t._v(" åƒåœ¾å›æ”¶å™¨é€šç”¨å‚æ•°")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("é…ç½®")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("PretenureSizeThreshold")])]),t._v(" "),a("td",[t._v("æ™‹å‡å¹´è€ä»£çš„å¯¹è±¡å¤§å°ã€‚é»˜è®¤ä¸º0ã€‚æ¯”å¦‚è®¾ä¸º10Mï¼Œåˆ™è¶…è¿‡10Mçš„å¯¹è±¡å°†ä¸åœ¨edenåŒºåˆ†é…ï¼Œè€Œç›´æ¥è¿›å…¥å¹´è€ä»£ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("MaxTenuringThreshold")])]),t._v(" "),a("td",[t._v("æ™‹å‡è€å¹´ä»£çš„æœ€å¤§å¹´é¾„ã€‚é»˜è®¤ä¸º15ã€‚æ¯”å¦‚è®¾ä¸º10ï¼Œåˆ™å¯¹è±¡åœ¨10æ¬¡æ™®é€šGCåå°†ä¼šè¢«æ”¾å…¥å¹´è€ä»£ã€‚")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("DisableExplicitGC")])]),t._v(" "),a("td",[t._v("ç¦ç”¨ "),a("code",[t._v("System.gc()")])])])])]),t._v(" "),a("h3",{attrs:{id:"jmx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jmx"}},[t._v("#")]),t._v(" JMX")]),t._v(" "),a("p",[t._v("å¼€å¯ JMX åï¼Œå¯ä»¥ä½¿ç”¨ "),a("code",[t._v("jconsole")]),t._v(" æˆ– "),a("code",[t._v("jvisualvm")]),t._v(" è¿›è¡Œç›‘æ§ Java ç¨‹åºçš„åŸºæœ¬ä¿¡æ¯å’Œè¿è¡Œæƒ…å†µã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("authenticate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Djava")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rmi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18888")]),t._v("\n")])])]),a("p",[a("code",[t._v("-Djava.rmi.server.hostname")]),t._v(" æŒ‡å®š Java ç¨‹åºè¿è¡Œçš„æœåŠ¡å™¨ï¼Œ"),a("code",[t._v("-Dcom.sun.management.jmxremote.port")]),t._v(" æŒ‡å®šæœåŠ¡ç›‘å¬ç«¯å£ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è¿œç¨‹-debug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿œç¨‹-debug"}},[t._v("#")]),t._v(" è¿œç¨‹ DEBUG")]),t._v(" "),a("p",[t._v("å¦‚æœå¼€å¯ Java åº”ç”¨çš„è¿œç¨‹ Debug åŠŸèƒ½ï¼Œéœ€è¦æŒ‡å®šå¦‚ä¸‹å‚æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Xdebug")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Xnoagent")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Djava")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compiler"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NONE\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Xrunjdwp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("transport"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dt_socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28888")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("suspend"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("n\n")])])]),a("p",[t._v("address å³ä¸ºè¿œç¨‹ debug çš„ç›‘å¬ç«¯å£ã€‚")]),t._v(" "),a("h3",{attrs:{id:"heapdump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#heapdump"}},[t._v("#")]),t._v(" HeapDump")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("XX"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OmitStackTraceInFastThrow")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("XX"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HeapDumpOnOutOfMemoryError")]),t._v("\n")])])]),a("h3",{attrs:{id:"è¾…åŠ©é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¾…åŠ©é…ç½®"}},[t._v("#")]),t._v(" è¾…åŠ©é…ç½®")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("é…ç½®")]),t._v(" "),a("th",[t._v("æè¿°")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("-XX:+PrintGCDetails")])]),t._v(" "),a("td",[t._v("æ‰“å° GC æ—¥å¿—")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-Xloggc:<filename>")])]),t._v(" "),a("td",[t._v("æŒ‡å®š GC æ—¥å¿—æ–‡ä»¶å")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-XX:+HeapDumpOnOutOfMemoryError")])]),t._v(" "),a("td",[t._v("å†…å­˜æº¢å‡ºæ—¶è¾“å‡ºå †å¿«ç…§æ–‡ä»¶")])])])]),t._v(" "),a("h2",{attrs:{id:"å…¸å‹é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¸å‹é…ç½®"}},[t._v("#")]),t._v(" å…¸å‹é…ç½®")]),t._v(" "),a("h3",{attrs:{id:"å †å¤§å°è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å †å¤§å°è®¾ç½®"}},[t._v("#")]),t._v(" å †å¤§å°è®¾ç½®")]),t._v(" "),a("p",[a("strong",[t._v("å¹´è½»ä»£çš„è®¾ç½®å¾ˆå…³é”®ã€‚")])]),t._v(" "),a("p",[t._v("JVM ä¸­æœ€å¤§å †å¤§å°æœ‰ä¸‰æ–¹é¢é™åˆ¶ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("ç›¸å…³æ“ä½œç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ï¼ˆ32-bt è¿˜æ˜¯ 64-bitï¼‰é™åˆ¶ï¼›")]),t._v(" "),a("li",[t._v("ç³»ç»Ÿçš„å¯ç”¨è™šæ‹Ÿå†…å­˜é™åˆ¶ï¼›")]),t._v(" "),a("li",[t._v("ç³»ç»Ÿçš„å¯ç”¨ç‰©ç†å†…å­˜é™åˆ¶ã€‚")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("æ•´ä¸ªå †å¤§å° = å¹´è½»ä»£å¤§å° + å¹´è€ä»£å¤§å° + æŒä¹…ä»£å¤§å°\n")])])]),a("ul",[a("li",[t._v("æŒä¹…ä»£ä¸€èˆ¬å›ºå®šå¤§å°ä¸º 64mã€‚ä½¿ç”¨ "),a("code",[t._v("-XX:PermSize")]),t._v(" è®¾ç½®ã€‚")]),t._v(" "),a("li",[t._v("å®˜æ–¹æ¨èå¹´è½»ä»£å æ•´ä¸ªå †çš„ 3/8ã€‚ä½¿ç”¨ "),a("code",[t._v("-Xmn")]),t._v(" è®¾ç½®ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å›æ”¶å™¨é€‰æ‹©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å›æ”¶å™¨é€‰æ‹©"}},[t._v("#")]),t._v(" å›æ”¶å™¨é€‰æ‹©")]),t._v(" "),a("p",[t._v("JVM ç»™äº†ä¸‰ç§é€‰æ‹©ï¼šä¸²è¡Œæ”¶é›†å™¨ã€å¹¶è¡Œæ”¶é›†å™¨ã€å¹¶å‘æ”¶é›†å™¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"åˆ†æ-gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æ-gc-æ—¥å¿—"}},[t._v("#")]),t._v(" åˆ†æ GC æ—¥å¿—")]),t._v(" "),a("h3",{attrs:{id:"è·å–-gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–-gc-æ—¥å¿—"}},[t._v("#")]),t._v(" è·å– GC æ—¥å¿—")]),t._v(" "),a("p",[t._v("è·å– GC æ—¥å¿—æœ‰ä¸¤ç§æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä½¿ç”¨å‘½ä»¤åŠ¨æ€æŸ¥çœ‹")]),t._v(" "),a("li",[t._v("åœ¨å®¹å™¨ä¸­è®¾ç½®ç›¸å…³å‚æ•°æ‰“å° GC æ—¥å¿—")])]),t._v(" "),a("p",[a("code",[t._v("jstat -gc")]),t._v(" ç»Ÿè®¡åƒåœ¾å›æ”¶å †çš„è¡Œä¸ºï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("jstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("gc "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1262")]),t._v("\n S0C    S1C     S0U     S1U   EC       EU        OC         OU        PC       PU         YGC    YGCT    FGC    FGCT     GCT\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("26112.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24064.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6562.5")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("564224.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("76274.5")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("434176.0")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("388518.3")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("524288.0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42724.7")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("320")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.417")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.398")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.815")]),t._v("\n")])])]),a("p",[t._v("ä¹Ÿå¯ä»¥è®¾ç½®é—´éš”å›ºå®šæ—¶é—´æ¥æ‰“å°ï¼š")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("jstat -gc "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1262")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¸ªå‘½ä»¤æ„æ€å°±æ˜¯æ¯éš” 2000ms è¾“å‡º 1262 çš„ gc æƒ…å†µï¼Œä¸€å…±è¾“å‡º 20 æ¬¡")]),t._v(" "),a("p",[t._v("Tomcat è®¾ç½®ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-server -Xms2000m -Xmx2000m -Xmn800m -XX:PermSize=64m -XX:MaxPermSize=256m -XX:SurvivorRatio=4\n-verbose:gc -Xloggc:'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CATALINA_HOME")]),t._v('/logs/gc.log\n-Djava.awt.headless=true\n-XX:+PrintGCTimeStamps -XX:+PrintGCDetails\n-Dsun.rmi.dgc.server.gcInterval=600000 -Dsun.rmi.dgc.client.gcInterval=600000\n-XX:+UseConcMarkSweepGC -XX:MaxTenuringThreshold=15"')]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("-Xms2000m -Xmx2000m -Xmn800m -XX:PermSize=64m -XX:MaxPermSize=256m")]),t._v("\nXmsï¼Œå³ä¸º jvm å¯åŠ¨æ—¶å¾— JVM åˆå§‹å †å¤§å°,Xmx ä¸º jvm çš„æœ€å¤§å †å¤§å°ï¼Œxmn ä¸ºæ–°ç”Ÿä»£çš„å¤§å°ï¼Œpermsize ä¸ºæ°¸ä¹…ä»£çš„åˆå§‹å¤§å°ï¼ŒMaxPermSize ä¸ºæ°¸ä¹…ä»£çš„æœ€å¤§ç©ºé—´ã€‚")]),t._v(" "),a("li",[a("code",[t._v("-XX:SurvivorRatio=4")]),t._v("\nSurvivorRatio ä¸ºæ–°ç”Ÿä»£ç©ºé—´ä¸­çš„ Eden åŒºå’Œæ•‘åŠ©ç©ºé—´ Survivor åŒºçš„å¤§å°æ¯”å€¼ï¼Œé»˜è®¤æ˜¯ 8ï¼Œåˆ™ä¸¤ä¸ª Survivor åŒºä¸ä¸€ä¸ª Eden åŒºçš„æ¯”å€¼ä¸º 2:8,ä¸€ä¸ª Survivor åŒºå æ•´ä¸ªå¹´è½»ä»£çš„ 1/10ã€‚è°ƒå°è¿™ä¸ªå‚æ•°å°†å¢å¤§ survivor åŒºï¼Œè®©å¯¹è±¡å°½é‡åœ¨ survitor åŒºå‘†é•¿ä¸€ç‚¹ï¼Œå‡å°‘è¿›å…¥å¹´è€ä»£çš„å¯¹è±¡ã€‚å»æ‰æ•‘åŠ©ç©ºé—´çš„æƒ³æ³•æ˜¯è®©å¤§éƒ¨åˆ†ä¸èƒ½é©¬ä¸Šå›æ”¶çš„æ•°æ®å°½å¿«è¿›å…¥å¹´è€ä»£ï¼ŒåŠ å¿«å¹´è€ä»£çš„å›æ”¶é¢‘ç‡ï¼Œå‡å°‘å¹´è€ä»£æš´æ¶¨çš„å¯èƒ½æ€§ï¼Œè¿™ä¸ªæ˜¯é€šè¿‡å°†-XX:SurvivorRatio è®¾ç½®æˆæ¯”è¾ƒå¤§çš„å€¼ï¼ˆæ¯”å¦‚ 65536)æ¥åšåˆ°ã€‚")]),t._v(" "),a("li",[a("code",[t._v("-verbose:gc -Xloggc:$CATALINA_HOME/logs/gc.log")]),t._v("\nå°†è™šæ‹Ÿæœºæ¯æ¬¡åƒåœ¾å›æ”¶çš„ä¿¡æ¯å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶åç”± file æŒ‡å®šï¼Œæ–‡ä»¶æ ¼å¼æ˜¯å¹³æ–‡ä»¶ï¼Œå†…å®¹å’Œ-verbose:gc è¾“å‡ºå†…å®¹ç›¸åŒã€‚")]),t._v(" "),a("li",[a("code",[t._v("-Djava.awt.headless=true")]),t._v(" Headless æ¨¡å¼æ˜¯ç³»ç»Ÿçš„ä¸€ç§é…ç½®æ¨¡å¼ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œç³»ç»Ÿç¼ºå°‘äº†æ˜¾ç¤ºè®¾å¤‡ã€é”®ç›˜æˆ–é¼ æ ‡ã€‚")]),t._v(" "),a("li",[a("code",[t._v("-XX:+PrintGCTimeStamps -XX:+PrintGCDetails")]),t._v("\nè®¾ç½® gc æ—¥å¿—çš„æ ¼å¼")]),t._v(" "),a("li",[a("code",[t._v("-Dsun.rmi.dgc.server.gcInterval=600000 -Dsun.rmi.dgc.client.gcInterval=600000")]),t._v("\næŒ‡å®š rmi è°ƒç”¨æ—¶ gc çš„æ—¶é—´é—´éš”")]),t._v(" "),a("li",[a("code",[t._v("-XX:+UseConcMarkSweepGC -XX:MaxTenuringThreshold=15")]),t._v(" é‡‡ç”¨å¹¶å‘ gc æ–¹å¼ï¼Œç»è¿‡ 15 æ¬¡ minor gc åè¿›å…¥å¹´è€ä»£")])]),t._v(" "),a("h3",{attrs:{id:"å¦‚ä½•åˆ†æ-gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•åˆ†æ-gc-æ—¥å¿—"}},[t._v("#")]),t._v(" å¦‚ä½•åˆ†æ GC æ—¥å¿—")]),t._v(" "),a("p",[t._v("Young GC å›æ”¶æ—¥å¿—:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2016")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),t._v("T10"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("43")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.093")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0800")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.395")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("GC "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PSYoungGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("274931")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("10738K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("274944")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("371093")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("147186K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("450048")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0668480")]),t._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Times")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.17")]),t._v(" sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.08")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" real"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.07")]),t._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("Full GC å›æ”¶æ—¥å¿—:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2016")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("05")]),t._v("T10"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("43")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.160")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0800")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.462")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Full")]),t._v(" GC "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PSYoungGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10738")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("0K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("274944")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParOldGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("136447")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("140379K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("302592")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("147186")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("140379K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("577536")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PSPermGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("85411")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("85376K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("171008")]),t._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6763541")]),t._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Times")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.75")]),t._v(" sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.02")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" real"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.68")]),t._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("é€šè¿‡ä¸Šé¢æ—¥å¿—åˆ†æå¾—å‡ºï¼ŒPSYoungGenã€ParOldGenã€PSPermGen å±äº Parallel æ”¶é›†å™¨ã€‚å…¶ä¸­ PSYoungGen è¡¨ç¤º gc å›æ”¶å‰åå¹´è½»ä»£çš„å†…å­˜å˜åŒ–ï¼›ParOldGen è¡¨ç¤º gc å›æ”¶å‰åè€å¹´ä»£çš„å†…å­˜å˜åŒ–ï¼›PSPermGen è¡¨ç¤º gc å›æ”¶å‰åæ°¸ä¹…åŒºçš„å†…å­˜å˜åŒ–ã€‚young gc ä¸»è¦æ˜¯é’ˆå¯¹å¹´è½»ä»£è¿›è¡Œå†…å­˜å›æ”¶æ¯”è¾ƒé¢‘ç¹ï¼Œè€—æ—¶çŸ­ï¼›full gc ä¼šå¯¹æ•´ä¸ªå †å†…å­˜è¿›è¡Œå›åŸï¼Œè€—æ—¶é•¿ï¼Œå› æ­¤ä¸€èˆ¬å°½é‡å‡å°‘ full gc çš„æ¬¡æ•°")]),t._v(" "),a("p",[t._v("é€šè¿‡ä¸¤å¼ å›¾éå¸¸æ˜æ˜¾çœ‹å‡º gc æ—¥å¿—æ„æˆï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ityouknow.com/assets/images/2017/jvm/Young%20GC.png",alt:"img"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ityouknow.com/assets/images/2017/jvm/Full%20GC.png",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"å¦‚ä½•åˆ†æ-outofmemory-oom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•åˆ†æ-outofmemory-oom"}},[t._v("#")]),t._v(" å¦‚ä½•åˆ†æ OutOfMemory(OOM)")]),t._v(" "),a("p",[t._v("OutOfMemory ï¼Œå³å†…å­˜æº¢å‡ºï¼Œæ˜¯ä¸€ä¸ªå¸¸è§çš„ JVM é—®é¢˜ã€‚é‚£ä¹ˆåˆ†æ OOM çš„æ€è·¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œè¦çŸ¥é“æœ‰ä¸‰ç§ OutOfMemoryErrorï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("OutOfMemoryError:Java heap space")]),t._v(" - å †ç©ºé—´æº¢å‡º")]),t._v(" "),a("li",[a("strong",[t._v("OutOfMemoryError:PermGen space")]),t._v(" - æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º")]),t._v(" "),a("li",[a("strong",[t._v("OutOfMemoryError:unable to create new native thread")]),t._v(" - çº¿ç¨‹è¿‡å¤š")])]),t._v(" "),a("h4",{attrs:{id:"outofmemoryerror-permgen-space"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outofmemoryerror-permgen-space"}},[t._v("#")]),t._v(" OutOfMemoryError:PermGen space")]),t._v(" "),a("p",[t._v("OutOfMemoryError:PermGen space è¡¨ç¤ºæ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºã€‚")]),t._v(" "),a("p",[a("strong",[t._v("åŸå› ï¼š")])]),t._v(" "),a("p",[t._v("Perm åŒºä¸»è¦ç”¨äºå­˜æ”¾ Class å’Œ Meta ä¿¡æ¯çš„ï¼ŒClass åœ¨è¢« Loader æ—¶å°±ä¼šè¢«æ”¾åˆ° PermGen spaceï¼Œè¿™ä¸ªåŒºåŸŸç§°ä¸ºå¹´è€ä»£ã€‚GC åœ¨ä¸»ç¨‹åºè¿è¡ŒæœŸé—´ä¸ä¼šå¯¹å¹´è€åŒºè¿›è¡Œæ¸…ç†ï¼Œé»˜è®¤æ˜¯ 64M å¤§å°ã€‚")]),t._v(" "),a("p",[t._v("å½“ç¨‹åºç¨‹åºä¸­ä½¿ç”¨äº†å¤§é‡çš„ jar æˆ– classï¼Œä½¿ java è™šæ‹Ÿæœºè£…è½½ç±»çš„ç©ºé—´ä¸å¤Ÿï¼Œè¶…è¿‡ 64M å°±ä¼šæŠ¥è¿™éƒ¨åˆ†å†…å­˜æº¢å‡ºäº†ï¼Œéœ€è¦åŠ å¤§å†…å­˜åˆ†é…ï¼Œä¸€èˆ¬ 128m è¶³å¤Ÿã€‚")]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰æ‰©å¤§æ°¸ä¹…ä»£ç©ºé—´")]),t._v(" "),a("ul",[a("li",[t._v("JDK7 ä»¥å‰ä½¿ç”¨ "),a("code",[t._v("-XX:PermSize")]),t._v(" å’Œ "),a("code",[t._v("-XX:MaxPermSize")]),t._v(" æ¥æ§åˆ¶æ°¸ä¹…ä»£å¤§å°ã€‚")]),t._v(" "),a("li",[t._v("JDK8 ä»¥åæŠŠåŸæœ¬æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± ç§»å‡º, æ”¾åœ¨ Java å †ä¸­(å…ƒç©ºé—´ Metaspace)ä¸­ï¼Œå…ƒæ•°æ®å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œä½¿ç”¨çš„æ˜¯æœ¬åœ°çš„å†…å­˜ã€‚ä½¿ç”¨ "),a("code",[t._v("-XX:MetaspaceSize")]),t._v(" å’Œ "),a("code",[t._v("-XX:MaxMetaspaceSize")]),t._v(" æ§åˆ¶å…ƒç©ºé—´å¤§å°ã€‚")])]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ”” æ³¨æ„ï¼š"),a("code",[t._v("-XX:PermSize")]),t._v(" ä¸€èˆ¬è®¾ä¸º 64M")])]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰æ¸…ç†åº”ç”¨ç¨‹åºä¸­ "),a("code",[t._v("WEB-INF/lib")]),t._v(" ä¸‹çš„ jarï¼Œç”¨ä¸ä¸Šçš„ jar åˆ é™¤æ‰ï¼Œå¤šä¸ªåº”ç”¨å…¬å…±çš„ jar ç§»åŠ¨åˆ° Tomcat çš„ lib ç›®å½•ï¼Œå‡å°‘é‡å¤åŠ è½½ã€‚")]),t._v(" "),a("h4",{attrs:{id:"outofmemoryerror-java-heap-space"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outofmemoryerror-java-heap-space"}},[t._v("#")]),t._v(" OutOfMemoryError:Java heap space")]),t._v(" "),a("p",[t._v("OutOfMemoryError:Java heap space è¡¨ç¤ºå †ç©ºé—´æº¢å‡ºã€‚")]),t._v(" "),a("p",[t._v("åŸå› ï¼šJVM åˆ†é…ç»™å †å†…å­˜çš„ç©ºé—´å·²ç»ç”¨æ»¡äº†ã€‚")]),t._v(" "),a("h5",{attrs:{id:"é—®é¢˜å®šä½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜å®šä½"}},[t._v("#")]),t._v(" é—®é¢˜å®šä½")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰ä½¿ç”¨ jmap æˆ– -XX:+HeapDumpOnOutOfMemoryError è·å–å †å¿«ç…§ã€‚\nï¼ˆ2ï¼‰ä½¿ç”¨å†…å­˜åˆ†æå·¥å…·ï¼ˆvisualvmã€matã€jProfile ç­‰ï¼‰å¯¹å †å¿«ç…§æ–‡ä»¶è¿›è¡Œåˆ†æã€‚\nï¼ˆ3ï¼‰æ ¹æ®åˆ†æå›¾ï¼Œé‡ç‚¹æ˜¯ç¡®è®¤å†…å­˜ä¸­çš„å¯¹è±¡æ˜¯å¦æ˜¯å¿…è¦çš„ï¼Œåˆ†æ¸…ç©¶ç«Ÿæ˜¯æ˜¯å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰è¿˜æ˜¯å†…å­˜æº¢å‡ºï¼ˆMemory Overflowï¼‰ã€‚")]),t._v(" "),a("h6",{attrs:{id:"å†…å­˜æ³„éœ²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…å­˜æ³„éœ²"}},[t._v("#")]),t._v(" å†…å­˜æ³„éœ²")]),t._v(" "),a("p",[t._v("å†…å­˜æ³„æ¼æ˜¯æŒ‡ç”±äºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜çš„æƒ…å†µã€‚")]),t._v(" "),a("p",[t._v("å†…å­˜æ³„æ¼å¹¶éæŒ‡å†…å­˜åœ¨ç‰©ç†ä¸Šçš„æ¶ˆå¤±ï¼Œè€Œæ˜¯åº”ç”¨ç¨‹åºåˆ†é…æŸæ®µå†…å­˜åï¼Œç”±äºè®¾è®¡é”™è¯¯ï¼Œå¤±å»äº†å¯¹è¯¥æ®µå†…å­˜çš„æ§åˆ¶ï¼Œå› è€Œé€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚")]),t._v(" "),a("p",[t._v("å†…å­˜æ³„æ¼éšç€è¢«æ‰§è¡Œçš„æ¬¡æ•°è¶Šå¤š-æœ€ç»ˆä¼šå¯¼è‡´å†…å­˜æº¢å‡ºã€‚")]),t._v(" "),a("p",[t._v("è€Œå› ç¨‹åºæ­»å¾ªç¯å¯¼è‡´çš„ä¸æ–­åˆ›å»ºå¯¹è±¡-åªè¦è¢«æ‰§è¡Œåˆ°å°±ä¼šäº§ç”Ÿå†…å­˜æº¢å‡ºã€‚")]),t._v(" "),a("p",[t._v("å†…å­˜æ³„æ¼å¸¸è§å‡ ä¸ªæƒ…å†µï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é™æ€é›†åˆç±»\n"),a("ul",[a("li",[t._v("å£°æ˜ä¸ºé™æ€ï¼ˆstaticï¼‰çš„ HashMapã€Vector ç­‰é›†åˆ")]),t._v(" "),a("li",[t._v("é€šä¿—æ¥è®² A ä¸­æœ‰ Bï¼Œå½“å‰åªæŠŠ B è®¾ç½®ä¸ºç©ºï¼ŒA æ²¡æœ‰è®¾ç½®ä¸ºç©ºï¼Œå›æ”¶æ—¶ B æ— æ³•å›æ”¶-å› è¢« A å¼•ç”¨ã€‚")])])]),t._v(" "),a("li",[t._v("ç›‘å¬å™¨\n"),a("ul",[a("li",[t._v("ç›‘å¬å™¨è¢«æ³¨å†Œåé‡Šæ”¾å¯¹è±¡æ—¶æ²¡æœ‰åˆ é™¤ç›‘å¬å™¨")])])]),t._v(" "),a("li",[t._v("ç‰©ç†è¿æ¥\n"),a("ul",[a("li",[t._v("DataSource.getConnection()å»ºç«‹é“¾æ¥ï¼Œå¿…é¡»é€šè¿‡ close()å…³é—­é“¾æ¥")])])]),t._v(" "),a("li",[t._v("å†…éƒ¨ç±»å’Œå¤–éƒ¨æ¨¡å—ç­‰çš„å¼•ç”¨\n"),a("ul",[a("li",[t._v("å‘ç°å®ƒçš„æ–¹å¼åŒå†…å­˜æº¢å‡ºï¼Œå¯å†åŠ ä¸ªå®æ—¶è§‚å¯Ÿ")]),t._v(" "),a("li",[t._v("jstat -gcutil 7362 2500 70")])])])]),t._v(" "),a("p",[t._v("é‡ç‚¹å…³æ³¨ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("FGC â€” ä»åº”ç”¨ç¨‹åºå¯åŠ¨åˆ°é‡‡æ ·æ—¶å‘ç”Ÿ Full GC çš„æ¬¡æ•°ã€‚")]),t._v(" "),a("li",[t._v("FGCT â€” ä»åº”ç”¨ç¨‹åºå¯åŠ¨åˆ°é‡‡æ ·æ—¶ Full GC æ‰€ç”¨çš„æ—¶é—´ï¼ˆå•ä½ç§’ï¼‰ã€‚")]),t._v(" "),a("li",[t._v("FGC æ¬¡æ•°è¶Šå¤šï¼ŒFGCT æ‰€éœ€æ—¶é—´è¶Šå¤š-å¯éå¸¸æœ‰å¯èƒ½å­˜åœ¨å†…å­˜æ³„æ¼ã€‚")])]),t._v(" "),a("h5",{attrs:{id:"è§£å†³æ–¹æ¡ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ¡ˆ")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰æ£€æŸ¥ç¨‹åºï¼Œçœ‹æ˜¯å¦æœ‰æ­»å¾ªç¯æˆ–ä¸å¿…è¦åœ°é‡å¤åˆ›å»ºå¤§é‡å¯¹è±¡ã€‚æœ‰åˆ™æ”¹ä¹‹ã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢æ˜¯ä¸€ä¸ªé‡å¤åˆ›å»ºå†…å­˜çš„ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" OOM "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" sum1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("300000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" sum2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("400000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OOM")]),t._v(" oom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("OOM")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¾€ArrayListä¸­åŠ å…¥30wå†…å®¹"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("javaHeapSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sum1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("memoryTotal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¾€ArrayListä¸­åŠ å…¥40wå†…å®¹"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("javaHeapSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sum2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        oom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("memoryTotal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("javaHeapSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Random")]),t._v(" random "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),t._v(" openList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" charOrNum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("random"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            openList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("charOrNum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("memoryTotal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runtime")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRuntime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("maxMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("totalMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" free "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("freeMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" usable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æœ€å¤§å†…å­˜ = "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å·²åˆ†é…å†…å­˜ = "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å·²åˆ†é…å†…å­˜ä¸­çš„å‰©ä½™ç©ºé—´ = "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æœ€å¤§å¯ç”¨å†…å­˜ = "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" usable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ‰§è¡Œç»“æœï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("å¾€"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),t._v("ä¸­åŠ å…¥"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("wå†…å®¹\næœ€å¤§å†…å­˜ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20447232")]),t._v("\nå·²åˆ†é…å†…å­˜ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20447232")]),t._v("\nå·²åˆ†é…å†…å­˜ä¸­çš„å‰©ä½™ç©ºé—´ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4032576")]),t._v("\næœ€å¤§å¯ç”¨å†…å­˜ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4032576")]),t._v("\nå¾€"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),t._v("ä¸­åŠ å…¥"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("wå†…å®¹\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" in thread "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main"')]),t._v(" java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OutOfMemoryError")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Java")]),t._v(" heap space\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("copyOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2245")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("copyOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2219")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("242")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensureExplicitCapacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("216")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensureCapacityInternal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("208")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("440")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at pers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qingqian"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seven"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("javaHeapSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    at pers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qingqian"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seven"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ï¼ˆ2ï¼‰æ‰©å¤§å †å†…å­˜ç©ºé—´")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ "),a("code",[t._v("-Xms")]),t._v(" å’Œ "),a("code",[t._v("-Xmx")]),t._v(" æ¥æ§åˆ¶å †å†…å­˜ç©ºé—´å¤§å°ã€‚")]),t._v(" "),a("h4",{attrs:{id:"outofmemoryerror-gc-overhead-limit-exceeded"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outofmemoryerror-gc-overhead-limit-exceeded"}},[t._v("#")]),t._v(" OutOfMemoryError: GC overhead limit exceeded")]),t._v(" "),a("p",[t._v("åŸå› ï¼šJDK6 æ–°å¢é”™è¯¯ç±»å‹ï¼Œå½“ GC ä¸ºé‡Šæ”¾å¾ˆå°ç©ºé—´å ç”¨å¤§é‡æ—¶é—´æ—¶æŠ›å‡ºï¼›ä¸€èˆ¬æ˜¯å› ä¸ºå †å¤ªå°ï¼Œå¯¼è‡´å¼‚å¸¸çš„åŸå› ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ã€‚")]),t._v(" "),a("p",[t._v("è§£å†³æ–¹æ¡ˆï¼š")]),t._v(" "),a("p",[t._v("æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æœ‰ä½¿ç”¨å¤§å†…å­˜çš„ä»£ç æˆ–æ­»å¾ªç¯ï¼›\né€šè¿‡æ·»åŠ  JVM é…ç½®ï¼Œæ¥é™åˆ¶ä½¿ç”¨å†…å­˜ï¼š")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("jvm-arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("-XX:-UseGCOverheadLimit"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("jvm-arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h4",{attrs:{id:"outofmemoryerrorï¼šunable-to-create-new-native-thread"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outofmemoryerrorï¼šunable-to-create-new-native-thread"}},[t._v("#")]),t._v(" OutOfMemoryErrorï¼šunable to create new native thread")]),t._v(" "),a("p",[t._v("åŸå› ï¼šçº¿ç¨‹è¿‡å¤š")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆèƒ½åˆ›å»ºå¤šå°‘çº¿ç¨‹å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªå…¬å¼ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("(MaxProcessMemory - JVMMemory - ReservedOsMemory) / (ThreadStackSize) = Number of threads\nMaxProcessMemory æŒ‡çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹çš„æœ€å¤§å†…å­˜\nJVMMemory         JVMå†…å­˜\nReservedOsMemory  ä¿ç•™çš„æ“ä½œç³»ç»Ÿå†…å­˜\nThreadStackSize      çº¿ç¨‹æ ˆçš„å¤§å°\n")])])]),a("p",[t._v("å½“å‘èµ·ä¸€ä¸ªçº¿ç¨‹çš„åˆ›å»ºæ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨ JVM å†…å­˜åˆ›å»ºä¸€ä¸ª Thread å¯¹è±¡åŒæ—¶åˆ›å»ºä¸€ä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼Œè€Œè¿™ä¸ªç³»ç»Ÿçº¿ç¨‹çš„å†…å­˜ç”¨çš„ä¸æ˜¯ JVMMemoryï¼Œè€Œæ˜¯ç³»ç»Ÿä¸­å‰©ä¸‹çš„å†…å­˜ï¼š\n(MaxProcessMemory - JVMMemory - ReservedOsMemory)\nç»“è®ºï¼šä½ ç»™ JVM å†…å­˜è¶Šå¤šï¼Œé‚£ä¹ˆä½ èƒ½ç”¨æ¥åˆ›å»ºçš„ç³»ç»Ÿçº¿ç¨‹çš„å†…å­˜å°±ä¼šè¶Šå°‘ï¼Œè¶Šå®¹æ˜“å‘ç”Ÿ java.lang.OutOfMemoryError: unable to create new native threadã€‚")]),t._v(" "),a("h4",{attrs:{id:"cpu-è¿‡é«˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpu-è¿‡é«˜"}},[t._v("#")]),t._v(" CPU è¿‡é«˜")]),t._v(" "),a("p",[t._v("å®šä½æ­¥éª¤ï¼š")]),t._v(" "),a("p",[t._v("ï¼ˆ1ï¼‰æ‰§è¡Œ top -c å‘½ä»¤ï¼Œæ‰¾åˆ° cpu æœ€é«˜çš„è¿›ç¨‹çš„ id")]),t._v(" "),a("p",[t._v("ï¼ˆ2ï¼‰jstack PID å¯¼å‡º Java åº”ç”¨ç¨‹åºçš„çº¿ç¨‹å †æ ˆä¿¡æ¯ã€‚")]),t._v(" "),a("p",[t._v("ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("jstack "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6795")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Low Memory Detector"')]),t._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x081465f8")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x7")]),t._v(" runnable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("x00000000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CompilerThread0"')]),t._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x08143c58")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x6")]),t._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("xfb5fd798"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Signal Dispatcher"')]),t._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x08142f08")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x5")]),t._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("x00000000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Finalizer"')]),t._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x08137ca0")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x4")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xfbeed000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("xfbeeddb8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Native")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" waiting on "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("0xef600848"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceQueue")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("116")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("0xef600848"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceQueue")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("132")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Finalizer")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FinalizerThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Finalizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("159")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Reference Handler"')]),t._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x081370f0")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x3")]),t._v(" in "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xfbf4a000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("xfbf4aa38"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Native")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" waiting on "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("0xef600758"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Reference")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("474")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Reference")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Reference")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("116")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("0xef600758"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Reference")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VM Thread"')]),t._v(" prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x08134878")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x2")]),t._v(" runnable\n\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VM Periodic Task Thread"')]),t._v(" prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x08147768")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x8")]),t._v(" waiting on condition\n")])])]),a("p",[t._v("åœ¨æ‰“å°çš„å †æ ˆæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œtid å’Œ nid çš„å«ä¹‰ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("nid : å¯¹åº”çš„ Linux æ“ä½œç³»ç»Ÿä¸‹çš„ tid çº¿ç¨‹å·ï¼Œä¹Ÿå°±æ˜¯å‰é¢è½¬åŒ–çš„ 16 è¿›åˆ¶æ•°å­—\ntid: è¿™ä¸ªåº”è¯¥æ˜¯ jvm çš„ jmm å†…å­˜è§„èŒƒä¸­çš„å”¯ä¸€åœ°å€å®šä½\n")])])]),a("p",[t._v("åœ¨ CPU è¿‡é«˜çš„æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾å“åº”çš„çº¿ç¨‹ï¼Œä¸€èˆ¬å®šä½éƒ½æ˜¯ç”¨ nid æ¥å®šä½çš„ã€‚è€Œå¦‚æœå‘ç”Ÿæ­»é”ä¹‹ç±»çš„é—®é¢˜ï¼Œä¸€èˆ¬ç”¨ tid æ¥å®šä½ã€‚")]),t._v(" "),a("p",[t._v("ï¼ˆ3ï¼‰å®šä½ CPU é«˜çš„çº¿ç¨‹æ‰“å°å…¶ nid")]),t._v(" "),a("p",[t._v("æŸ¥çœ‹çº¿ç¨‹ä¸‹å…·ä½“è¿›ç¨‹ä¿¡æ¯çš„å‘½ä»¤å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[t._v("top -H -p 6735")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("09")]),t._v(" up "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("611")]),t._v(" days"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.76")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.82")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Threads")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6991")]),t._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6974")]),t._v(" sleeping"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" stopped"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" zombie\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cpu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("90.4")]),t._v(" us"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.1")]),t._v(" sy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" ni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.0")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" wa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" hi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.4")]),t._v(" si"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(" st\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32783044")]),t._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32505008")]),t._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("278036")]),t._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("120304")]),t._v(" buffers\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KiB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Swap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4497428")]),t._v(" cached "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mem")]),t._v("\n\n  PID USER      PR  NI    VIRT    RES    SHR "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("CPU "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("MEM     TIME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" COMMAND\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6800")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("54.7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55.61")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6803")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("54.4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("52.59")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6798")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53.7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55.08")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6801")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53.7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55.25")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6797")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("52.78")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6804")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55.76")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6802")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("52.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("54.79")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6799")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("51.8")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53.36")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6807")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("58.60")]),t._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11014")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("00.32")]),t._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10642")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("R")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32.06")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6808")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("159")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("08.40")]),t._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11315")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("54.10")]),t._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12545")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55.48")]),t._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23353")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.55")]),t._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24868")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.46")]),t._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9146")]),t._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.299")]),t._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.021")]),t._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7172")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("S")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.1")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42.72")]),t._v(" java\n")])])]),a("p",[t._v("ç”±æ­¤å¯ä»¥çœ‹å‡ºå ç”¨ CPU è¾ƒé«˜çš„çº¿ç¨‹ï¼Œä½†æ˜¯è¿™äº›è¿˜ä¸é«˜ï¼Œæ— æ³•ç›´æ¥å®šä½åˆ°å…·ä½“çš„ç±»ã€‚nid æ˜¯ 16 è¿›åˆ¶çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è·å–çº¿ç¨‹çš„ 16 è¿›åˆ¶ IDï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('printf "%x\\n" 6800\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("è¾“å‡ºç»“æœ:45cd\n")])])]),a("p",[t._v("ç„¶åæ ¹æ®è¾“å‡ºç»“æœåˆ° jstack æ‰“å°çš„å †æ ˆæ—¥å¿—ä¸­æŸ¥å®šä½ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"catalina-exec-5692"')]),t._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00007f3b05013800")]),t._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x45cd")]),t._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00007f3ae08e3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TIMED_WAITING "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Unsafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("park")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Native")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" parking "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" wait "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("0x00000006a7800598"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractQueuedSynchronizer")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConditionObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LockSupport")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parkNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LockSupport")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("226")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractQueuedSynchronizer")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConditionObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awaitNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractQueuedSynchronizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2082")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LinkedBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LinkedBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("467")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("threads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("86")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("threads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1068")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runWorker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1130")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("615")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("threads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskThread")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WrappingRunnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TaskThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("61")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("745")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://item.jd.com/11252778.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.douban.com/doulist/2545443/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»è¡¨åˆ°é‡Œå­¦ä¹  JVM å®ç°"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.importnew.com/23761.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVMï¼ˆ4ï¼‰ï¼šJvm è°ƒä¼˜-å‘½ä»¤ç¯‡"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/zhguang/p/Java-JVM-GC.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Javaç³»åˆ—ç¬”è®°(4) - JVM ç›‘æ§ä¸è°ƒä¼˜"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000005174819",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaæœåŠ¡ GC å‚æ•°è°ƒä¼˜æ¡ˆä¾‹"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.importnew.com/19264.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM è°ƒä¼˜æ€»ç»“ï¼ˆ5ï¼‰ï¼šå…¸å‹é…ç½®"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/59f02f406fb9a0451869f01c",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¦‚ä½•åˆç†çš„è§„åˆ’ä¸€æ¬¡ jvm æ€§èƒ½è°ƒä¼˜"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.ityouknow.com/jvm/2017/09/21/How-to-optimize-Java-GC.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jvm ç³»åˆ—(ä¹):å¦‚ä½•ä¼˜åŒ– Java GCã€Œè¯‘ã€"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/28935cbfbae0",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½œä¸ºæµ‹è¯•ä½ åº”è¯¥çŸ¥é“çš„ JAVA OOM åŠå®šä½åˆ†æ"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/sinat_29912455/article/details/51125748",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¼‚å¸¸ã€å †å†…å­˜æº¢å‡ºã€OOM çš„å‡ ç§æƒ…å†µ"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("https://my.oschina.net/feichexia/blog/196575")])])])}),[],!1,null,null,null);s.default=e.exports}}]);